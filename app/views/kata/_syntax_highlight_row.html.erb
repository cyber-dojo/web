
<script type="text/javascript"><!--
var confirmSyntaxHighlightChange = function(additionalParameters) {
  if(confirm('Any changes since you last hit test will be lost! Are you sure?')) {
    window.location.replace('/kata/edit/<%= @kata.id %>?avatar=<%= avatar_name %>' + additionalParameters);
  }
};
//--></script>

<tr class="valign-top">
  <td class="align-right">
    <% if syntax_highlight_enabled? %>
      <button type="button"
              id="syntax-highlight-button"
              title="turns syntax highlighting off"
              value="syntax-highlight-off"
              onclick="confirmSyntaxHighlightChange('');">
        syntax highlight off
      </button>
    <% else %>
      <button type="button"
              id="syntax-highlight-button"
              title="turns syntax highlighting on"
              value="syntax-highlight-on"
              onclick="confirmSyntaxHighlightChange('&syntax_highlight=true');">
        syntax highlight on
      </button>
    <% end %>
  </td>
  <td class="align-right">
    <% if syntax_highlight_enabled? %>
      Theme:
      <select onChange="cd.switchTheme()" name="CodeMirrorTheme" id="code-mirror-theme">
        <option value="cyber-dojo" selected>cyber-dojo</option>
        <option value="">CodeMirror (default)</option>
        <option value="night">night</option>
      </select>
      <p>
        Syntax highlighting by <a href="http://codemirror.net" target="_blank">CodeMirror</a>.
        (<a href="https://raw.githubusercontent.com/codemirror/CodeMirror/master/LICENSE" target="_blank">License</a>)
      </p>
    <% end %>
  </td>
</tr>
