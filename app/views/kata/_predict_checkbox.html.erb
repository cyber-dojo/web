<div id="predict-checkbox-container">
  <div id="predict-checkbox-title">predict</div>
  <input type="checkbox" id="predict-checkbox" checked=""/>
  <label for="predict-checkbox"></label>
</div>

<script>
'use strict';
$(() => {

  const $checkBox = $('#predict-checkbox');

  $checkBox.prop('checked', cd.settings.predict() === 'on')
           .click(() => checkBoxChanged());

  $('#predict-checkbox-title').click(() => {
    $checkBox.prop('checked', !$checkBox.is(':checked'));
    checkBoxChanged();
  });

  const checkBoxChanged = () => {
    const value = $checkBox.prop('checked') ? 'on' : 'off';
    if (value === 'on') {
      cd.kata.predictButtons.show(cd.testButton.disable);
    } else {
      cd.kata.predictButtons.hide(cd.testButton.enable);
    }
    cd.settings.predict(value);
    console.log(`checkbox-title clicked: now ${value}`);
  };

});
</script>
