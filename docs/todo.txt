
Note: app/controllers/application_controller.rb container render 404, 500
Need to improve dialog-box errors, eg when you get a server 500

Note: after test run, coverage is in, eg
  file:///Users/jonjagger/repos/cyber-dojo/web/coverage/app_controllers/index.html#_appcontrollers

Fix test warnings:
  /cyber-dojo/test/test_hex_id_helpers.rb:71: warning: finalizer references object to be finalized

Fix:
  SimpleCov failed to recognize the test framework and/or suite used. 
  Please specify manually using SimpleCov.command_name 'Unit Tests'.  

------------------------------------------------------------------

- update remaining kata.incrementIndex() calls
  - L13  source/app/views/kata/_index.html.erb (definition)
  - L145 source/app/views/kata/run_tests.js.erb (in revert())
  - L40  source/app/views/review/_checkout_button.html.erb 
- handle auto-revert on [test] page
- fix existing tests. See app_controller_test_base.rb post_run_tests()
  which does an auto-increment of index
- start adding new controller tests

- make (C)(D)(R)(E) icons visible when extra[x] is ticked
- add diff_summary tooltips for (C)(D)(R)(E) icons

------------------------------------------------------------------

Note: all web code is on a branch and so is not even on beta yet.
When it is deployed to beta/prod then inter-test-events will start to
be created, since saver has inter-test-events in beta/prod already.

------------------------------------------------------------------

stdout/stderr/status appear below the file knave when reviewing 
an inter-test-event index. They should not.

------------------------------------------------------------------

Upgrade demo to bring up a v2 kata with inter-test events.
Use it to get into review page for working on showing inter-test events.
Have to think about how to handle [revert]
Do I allow revert from an inter-test event? I think yes.
Will need (C)(D)(R)(E) icons with an underbar.

------------------------------------------------------------------

extra[x] checkbox is not very visible.
When you open a review page, should it be checked by default so
that inter-test-events are immediately visible?

------------------------------------------------------------------

diff tool-tips will need a little work. Will need to add a 'title'
eg created/red/amber/green will now also need 
file-created/file-deleted/file-renamed/file-edited

------------------------------------------------------------------

Have to think about how to handle auto-revert on the kata page 
(when [test] is pressed).
Do I go back to the previous traffic-light? 
That would retain current behaviour from the edit page point of view.
What other options are there?

------------------------------------------------------------------

In a v2 kata, if you create inter-test-events, and traffic-lights are at
indexes 2,4,7 then these indexes are visible in the diff-tool-tip.
If you click light(eg index=4) then in review mode you see that light 
underbarred and the navigator-index shown is 4.
You can use [<][>] to navigate to a non-test-event and
- the diff is shown
- the index will update
- the underbar will be removed.
Perhaps this is almost enough?!
Could extra[x] only control what the underlying events are?

------------------------------------------------------------------

The extra[x] checkbox in review mode should go nearer to the 
<< < 8 > >> navigator.

------------------------------------------------------------------

Controller-tests currently use v1 kata. 
Some tests failed because of this.
Switched to default v2 in create_language_kata()

In app_controller_test_base.rb we have this:

  def post_run_tests(options = {})
    post '/kata/run_tests', params:run_test_params(options)
    @index += 1
    assert_response :success, response.body
  end

Need to upgrade the tests so they use a v2 kata

------------------------------------------------------------------

In review-mode, always do diff-summary of index-1,index
and always show file-type markers. Make the diff[x] checkbox
control whether the [+][-] diffs are visible. Need to try this.
What about [+] created files and [-] deleted files?

Polyfill old checkouts on model?
