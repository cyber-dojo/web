
Controller-tests currently use v1 kata which means that
in app_controller_test_base.rb we have this:

  def post_run_tests(options = {})
    post '/kata/run_tests', params:run_test_params(options)
    @index += 1
    assert_response :success, response.body
  end

which cannot be updated to get the POST response.
Need to upgrade the tests so they use a v2 kata

Switched to default v2 in create_language_kata()

Now only 3 controller-tests fail

  1) Failure:
CheckoutTest#test_'7de177',
 in group kata, checkout a different avatar's traffic-light
 [checkout_test.rb:68]:
 ====> "message": "Out of order event"
 Is this because of moving to v2?

  2) Failure:
ReviewTest#test_'1CB441',
 |(was_index,now_index)=(-1,-1)
 [app_controller_test_base.rb:54]:
 Updated to v2. Now passing

  3) Failure:
ReviewTest#test_'1CB440',
 |was_index!=now_index
 [app_controller_test_base.rb:54]:
Updated to v2. Now passing

------------------------------------------------------------------

In review-mode, always do diff-summary of index,index-1
and always show file-type markers. Make the diff[x] checkbox
control whether the [+][-] diffs are visible. Need to try this.
What about [+] created files and [-] deleted files?

Polyfill old checkouts on model?
